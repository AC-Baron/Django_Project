{% extends "base.html" %}
{% load static %}
{% block content %}

<h1 class="page-title">Recipes</h1>

<!-- ðŸ” Search Bar -->
<div class="search-container">
  <input 
    type="text" 
    id="whatscooking-search" 
    placeholder="Search recipes or ingredients..." 
    class="search-input"
  >
</div>

<!-- Recipe Grid -->
<div id="whatscooking-grid" class="recipe-grid">
  {% for recipe in recipes %}
    <div 
      class="recipe-card" 
      data-title="{{ recipe.title|lower }}" 
      data-ingredients="{% for ing in recipe.ingredients.all %}{{ ing.name|lower }} {% endfor %}"
    >
      <a href="{% url 'recipe_detail' recipe.pk %}">
        {% if recipe.image %}
          <img src="{{ recipe.image.url }}" alt="{{ recipe.title }}" class="recipe-image">
        {% else %}
          <img src="{% static 'images/default_recipe.png' %}" alt="Default image" class="recipe-image">
        {% endif %}
        <h2 class="recipe-title">{{ recipe.title }}</h2>
      </a>
      <p class="recipe-author">By {{ recipe.author.username }}</p>
    </div>
  {% empty %}
    <p>No recipes yet!</p>
  {% endfor %}
</div>

<!-- Static Files -->
<link rel="stylesheet" href="{% static 'css/recipe_list.css' %}">
<script src="{% static 'js/whatscooking_search.js' %}"></script>

{% endblock %}
